---
title: 停机问题相关
date: 2017-04-24
tags: 
	- haltingproblem
	- 停机问题
	- 算法
categories: 
	- 算法
---
前几天看逼乎上有个讨论[停机问题](https://www.zhihu.com/question/20081359)的，下班回家路上想了想，怎么通俗地理解这个问题。

问题是说，能不能写出一个程序P，这个程序能根据判断所有程序是否能在有限时间内结束。

答案是不能，但是有一个解释是这样的，意思是举个反例，如果存在一个程序H，H调用P，如果P返回true，那么死循环，如果P返回false，那么结束。

我觉得这个反例不正确，因为事实上写不出这个H的代码啊，如果P的参数是程序代码（事实上也只可能是程序代码，因为任意程序，没有说程序是不是合法，有可能不存在程序的指针），那么H在调用P的时候，必须传入自身的程序代码，而实际上自身的程序代码也包含了H调用P的过程

所以这段代码是无穷无尽的，就是说不存在这样的一个反例。

不过如果说这个参数是程序的指针，或者说给出的所有程序都是合法的，那就有点搞笑了。

H调用P，如果P判断H可以结束，那么不结束，如果P判断H不可以结束，那么H结束。

好比说，你发现了一种可以判断任何人是不是sb的方法，然后走来了一个人，他问你，“我是不是sb？”，如果你说是，他说：“核核，其实我不是”，如果你说不是，他说：“核核，其实我就是sb”。

那么很明显，他就是sb，为什么呢？

或者说为什么如果说参数是程序的指针，那么存不存在这样的一个反例呢？

P可以在内部判断自身的程序入口是否被调用啊！如果H在任何位置调用了P，说明H序在试图制造一个死循环，也就是程序是不能在有限的时间内结束，因此，这个反例也是制造不出来的。

但是有一点需要注意的，你在写P这个程序的时候，是通过什么方法来判断有没有自身调用的。

附加一个计数器？那么这个计数器可是在方法栈之外的哦，或者说一个全局变量，但是这属于P这个函数吗？跟踪程序的入口地址，那么程序知道自己的入口地址在什么位置吗？

很显然，全局变量不属于P本身，P也不可能知道自己的入口地址在什么地方。所以说，不是写不出这样的程序，而是写出的程序不符合“程序”的定义。

总而言之，不存在这样的程序P。

---
>http://blog.csdn.net/pongba/article/details/1336028

>http://www.matrix67.com/blog/archives/901